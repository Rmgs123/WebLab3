<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Вход</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'home/login.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background"></div>
    <div class="container">
        <div class="logo">
            <img src="{% static 'home/GirlHub_transparent.png' %}" alt="GirlHub Logo">
        </div>
        <h1>Войти в аккаунт</h1>

        <form method="post" action="{% url 'account_login' %}">
            {% csrf_token %}

            <!-- Поле Email и его ошибки -->
            <input type="email" name="login" placeholder="Email" required value="{{ form.login.value|default_if_none:'' }}">
            {% if form.login.errors %}
                <div class="error">
                    {% for error in form.login.errors %}
                        <p>Email: {{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Поле Password и его ошибки -->
            <input type="password" name="password" placeholder="Password" required>
            {% if form.password.errors %}
                <div class="error">
                    {% for error in form.password.errors %}
                        <p>Password: {{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <a href="{% url 'account_reset_password' %}" class="forgot-password">Забыли пароль?</a>
            <button type="submit">Войти</button>
        </form>

        <p class="signup">Еще нет аккаунта? <a href="{% url 'account_signup' %}">Зарегистрироваться</a></p>

        <!-- Всплывающее уведомление об ошибке входа -->
        {% if form.errors %}
        <div class="error-message show">
            {{ form.non_field_errors.as_text }}
        </div>
        {% endif %}
    </div>
    <script>
    // Плавное появление ошибки и исчезновение через время
    document.addEventListener('DOMContentLoaded', function() {
        const errorMessage = document.querySelector('.error-message');
        if (errorMessage) {
            setTimeout(() => {
                errorMessage.classList.add('show');
            }, 0); // Немедленно показываем при загрузке

            // Через 3 секунды скрываем сообщение
            setTimeout(() => {
                errorMessage.classList.remove('show');
            }, 3000);
        }
    });
    </script>
</body>
</html>
